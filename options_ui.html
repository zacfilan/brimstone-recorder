<!DOCTYPE html>
<html>

<head>
    <title>Brimstone Extension Options</title>
    <link rel="stylesheet" href="options.css">
</head>

<body>
    <br>
    <details open>
        <summary>Checking Options</summary>
        <table>
            <tr>
                <td>
                    Seconds to wait for actual screen to match expected screen
                </td>
                <td>
                    <input type="number" min="1" max="120" id="matchTimeout"></input>
                </td>
            </tr>
            <tr>
                <td>
                    Pixel color matching
                </td>
                <!-- 0 to 1 is allowed but high values essentially match everything -->
                <td>
                    <div class="slider">
                        <label>Lenient</label>
                        <input type="range" min="0" max="2" step="1" id="pixelMatchSenstivity"
                            list="sensitivitySettings">
                        <datalist id="sensitivitySettings">
                            <option>0</option>
                            <option>1</option>
                            <option>2</option>
                        </datalist>
                        <label>Strict</label>
                    </div>
                </td>
            </tr>
            <td>
                Auto correct matching actual corrections
            </td>
            <td>
                <label class="switch">
                    <input type="checkbox" id="autoCorrect"></input>
                    <span class="slider round"></span>
                </label>
            </td>
            </tr>
            <tr>
                <td>
                    Auto play after manually applying a correction
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="autoPlay"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
        </table>
    </details>
    <details open>
        <summary>Playback Options</summary>
        <table>
            <tr>
                <td>
                    User Mouse Speed
                </td>
                <!-- 0 to 1 is allowed but high values essentially match everything -->
                <td>
                    <div class="slider">
                        <label>Sleepy Grandmother</label>
                        <input type="range" min="0" max="2" step="1" id="userMouseSpeed" list="userMouseSpeedSettings">
                        <datalist id="userMouseSpeedSettings">
                            <option>0</option>
                            <option>1</option>
                            <option>2</option>
                        </datalist>
                        <label>Caffeinated Monkey</label>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    User Typing Speed
                </td>
                <!-- 0 to 1 is allowed but high values essentially match everything -->
                <td>
                    <div class="slider">
                        <label>Sleepy Grandmother</label>
                        <input type="range" min="0" max="2" step="1" id="userKeypressSpeed"
                            list="userKeypressSpeedSettings">
                        <datalist id="userKeypressSpeedSettings">
                            <option>0</option>
                            <option>1</option>
                            <option>2</option>
                        </datalist>
                        <label>Caffeinated Monkey</label>
                    </div>
                </td>
            </tr>
        </table>
    </details>
    <details>
        <summary>Database Options</summary>
        <table>
            <tr>
                <td>
                    Post Metrics Endpoint
                </td>
                <td>
                    <input type="text" id="postMetricsEndpoint"></input>
                </td>
            </tr>
            <tr>
                <td>
                    Post Automatically on Passing Run
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="postMetricsOnPass"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Post Automatically on Failing Run
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="postMetricsOnFail"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Alias for this computer
                </td>
                <td>
                    <input type="text" id="installedOnAlias"></input>
                </td>
            </tr>
        </table>
    </details>
    <details open>
        <summary>General Options</summary>
        <table>
            <tr>
                <td>
                    Hide cursor for performance
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="hideCursor"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>

            <tr>
                <td>
                    Close previous test window when creating a new one
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="closeOldTestWindowOnCreate"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Confirm to delete
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="confirmToDelete"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Warn on test version mismatch
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="warnOnVersionMismatch"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>           
        </table>
    </details>
    <details open>
        <summary>Recording Options</summary>
        <table>
            <tr>
                <td>
                    Always record incognito
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="recordIncognito"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Mouse move sequence recording
                </td>
                <td>
                    <div class="slider">
                        <label>Slower</label>
                        <input type="range" min="0" max="2" step="1" id="mouseMoveTimeout" list="mouseMoveSettings">
                        <datalist id="mouseMoveSettings">
                            <option>0</option>
                            <option>1</option>
                            <option>2</option>
                        </datalist>
                        <label>Faster</label>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    Mouse wheel sequence recording
                </td>
                <td>
                    <div class="slider">
                        <label>Slower</label>
                        <input type="range" min="0" max="2" step="1" id="mouseWheelTimeout" list="mouseWheelSettings">
                        <datalist id="mouseWheelSettings">
                            <option>0</option>
                            <option>1</option>
                            <option>2</option>
                        </datalist>
                        <label>Faster</label>
                    </div>
                </td>
            </tr>
        </table>
    </details>


    <details>
        <summary>Developer Options</summary>
        <table>
            <tr>
                <td>
                    Max actions in memory
                </td>
                <td>
                    <input type="number" min="0" max="100" id="maxNumberOfActionsToPrehydrate"></input>
                </td>
            </tr>
            <tr>
                <td>
                    Enable developer mode
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="developerMode"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Debug recorder
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="debugRecorder"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Auto Zoom Chrome to 100%
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="autoZoomTo100"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    Forgot corrections when test is cleared
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="forgetCorrectionsWhenTestIsCleared"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
        </table>
        <details id="timeouts">
            <summary>Timeouts</summary>
            <table>
                <tr title="In the verify screenshot function we need to take the actual screenshot
first. There is setup to even pull this off. When this throws we sleep 
and try again. This is that sleep amount.">
                    <td>
                        Verify Screenshot - Take Screenshot Retry Timeout
                    </td>
                    <td>
                        <input type="number" min="0" max="5000" id="verifyScreenshotTakeScreenshotRetryTimeout"></input>
                    </td>
                </tr>
                <tr title="After we take that first screenshot we compare them, if they are 
different we want to try again, but not right away. This is how 
long to wait before we grab the actual again and compare.
Directly affects reported user latency precision.">
                    <td>
                        Verify Screenshot - Retry Comprison Timeout
                    </td>
                    <td>
                        <input type="number" min="0" max="5000" id="verifyScreenshotRetryComparisonTimeout"></input>
                    </td>
                </tr>
                <tr title="When playing we send a command via the debugger, if that
debugger is detached, or becomes detached during the command
we reattach and retry the command once. This happens on or right
after a navigation. Once we reattach the debugger we wait before 
we retry the command. This is how long to wait. It's infrequent 
so it's jacked up a bit high.">
                    <td>
                        Debugger Send command On Play Retr Timeout
                    </td>
                    <td>
                        <input type="number" min="0" max="5000" id="debuggerSendCommandOnPlayRetryTimeout"></input>
                    </td>
                </tr>
                <tr title="When resizing the viewport, it can fail because of zoom 
or pixel scaling issues. so we retry. This is how long to
wait before each iteration of the retry.">
                    <td>
                        Resize Viewport Retry Timeout
                    </td>
                    <td>
                        <input type="number" min="0" max="5000" id="resizeViewportRetryTimeout"></input>
                    </td>
                </tr>
                <tr title="This is the total number of ms we will wait 
to obtain a screenshot of the size we expect
during recording.">
                    <td>
                        Capture Screenshot as Data Url For Recording Timeout
                    </td>
                    <td>
                        <input type="number" min="0" max="5000"
                            id="captureScreenshotAsDataUrlForRecordingTimeout"></input>
                    </td>
                </tr>
                <tr title="How long we wait between back-to-back attempts to capture a
screenshot of the correct size during recording.">
                    <td>
                        Capture Screenshot as Data Url f Recording Retry Timeout
                    </td>
                    <td>
                        <input type="number" min="0" max="5000"
                            id="captureScreenshotAsDataUrlForRecordingRetryTimeout"></input>
                    </td>
                </tr>
            </table>
        </details>
    </details>

    <details>
        <summary>Experiments</summary>
        <table>
            <tr>
                <td>
                    Include CSS of element acted on in test
                </td>
                <td>
                    <label class="switch">
                        <input type="checkbox" id="includeCss"></input>
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
        </table>
    </details>

    <br>
    <br>

    <div id="optionsSaveStatus"></div>
    <button id="save">Save</button> <button id="reset">Restore Defaults</button>

    <script type="module" src="options_controller.js"></script>
</body>

</html>